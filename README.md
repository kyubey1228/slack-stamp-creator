# Slack Stamp Creator

Chrome画面から簡単にSlackスタンプを作成できるChrome拡張機能です。

## 主な機能

✨ **画像キャプチャ**
- Chromeの画面を範囲選択してキャプチャ
- マウスドラッグで簡単に範囲指定

🎬 **動画キャプチャ（GIF作成）**
- 画面を録画してGIFアニメーションを作成
- フレームレート、サイズ、時間範囲を調整可能

🎨 **画像編集機能**
- トリミング
- クロマキー合成（背景透過）
- サイズ調整（64px～512px）

🚀 **Slack自動登録**
- 編集した画像を直接Slackにアップロード
- ワンクリックで絵文字として登録

## インストール方法

1. Chromeで `chrome://extensions/` を開く
2. 右上の「デベロッパーモード」を有効にする
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. このディレクトリ (`slack-stamp-creator`) を選択

## 使い方

### 初期設定

1. 拡張機能のアイコンをクリック
2. 「Slack設定」セクションにワークスペース名を入力
   - 例: `your-workspace.slack.com` の場合は `your-workspace` を入力
3. 「設定を保存」をクリック

### 画像キャプチャ

1. キャプチャしたいページを開く
2. 拡張機能のアイコンをクリック
3. 「🖼️ 画像をキャプチャ」をクリック
4. マウスで範囲を選択
5. エディタで編集:
   - **クロマキー合成**: グリーンバックなどを透過
   - **サイズ調整**: 最終的なスタンプサイズを選択
6. 絵文字名を入力（例: `my_emoji`）
7. 「💾 保存してSlackページを開く」をクリック
8. 画像が自動ダウンロードされ、Slackの絵文字カスタマイズページが開きます
9. Slackのページで「Upload Emoji」をクリックして、ダウンロードした画像をアップロード

### 動画キャプチャ（GIF作成）

1. 拡張機能のアイコンをクリック
2. 「🎥 動画をキャプチャ (GIF)」をクリック
3. キャプチャする画面/ウィンドウ/タブを選択
4. 録画開始（録画コントロールが表示されます）
5. 録画を停止
6. エディタで設定:
   - **開始時間/終了時間**: GIFに含める範囲
   - **FPS**: フレームレート（5～30）
   - **幅**: GIFの幅（128～512px）
7. 「GIFを生成」をクリック
8. 絵文字名を入力
9. 「💾 保存してSlackページを開く」をクリック
10. Slackのページで手動でアップロード

### ショートカット

- **ESCキー**: キャプチャをキャンセル
- 範囲選択中にESCを押すと選択を中止できます

## 技術仕様

- **対応ブラウザ**: Google Chrome（Manifest V3）
- **画像形式**: PNG（透過対応）
- **GIF形式**: WebM → GIF変換
- **最大サイズ**: 512x512px
- **アップロード方式**: 自動ダウンロード + Slack Web UIでの手動アップロード

## トラブルシューティング

### Slackページが開かない

- ワークスペース名が正しいか確認
- ブラウザのポップアップブロックを無効にする
- 手動で `https://[ワークスペース名].slack.com/customize/emoji` にアクセス

### ダウンロードした画像が見つからない

- ブラウザのダウンロードフォルダを確認
- Chrome設定でダウンロード先を確認
- ダウンロード権限がブロックされていないか確認

### クロマキーがうまく動作しない

- 「除去する色」を背景色に合わせて調整
- 「感度」スライダーで範囲を調整（数値が大きいほど広範囲を透過）

### GIF生成に失敗する

- 動画の長さを短くしてみる（3秒以下推奨）
- FPSを下げてみる（10fps程度）
- ブラウザの画面キャプチャ権限を確認

## 開発

### ファイル構成

```
slack-stamp-creator/
├── manifest.json          # 拡張機能の設定
├── popup.html            # ポップアップUI
├── popup.js              # ポップアップのロジック
├── content.js            # キャプチャ機能
├── content.css           # キャプチャUI用CSS
├── background.js         # バックグラウンド処理
├── editor.html           # 画像/動画エディタUI
├── editor.js             # エディタのロジック
└── icons/                # 拡張機能のアイコン
```

## ライセンス

MIT License

## 貢献

バグ報告や機能要望は大歓迎です！

